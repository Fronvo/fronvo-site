<script>
    import { communityData } from 'stores/community';
    import { dataSaver } from 'stores/main';
    import { currentPanelId, PanelTypes } from 'stores/panels';
    import { ourData } from 'stores/profile';
</script>

{#if !$communityData?.icon || $dataSaver}
    <svg
        version="1.2"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 48 48"
        width="48"
        height="48"
        ><path
            class="svg"
            d={`${
                $currentPanelId == PanelTypes.Community
                    ? 'm20.6 24.9q-1 0-1.5-0.7-0.6-0.7-0.4-1.5l0.6-3.6q0.2-1.8 1.6-2.9 1.3-1.2 3.1-1.2 1.8 0 3.1 1.2 1.4 1.1 1.7 2.9l0.6 3.6q0.2 0.8-0.4 1.5-0.6 0.7-1.5 0.7zm-13.4 2.5q-0.9 0-1.5-0.4-0.7-0.3-0.9-1.2-0.1-0.3 0-0.7 0.1-0.3 0.2-0.7 0 0.1 0-0.1-0.1-0.1-0.4-1-0.1-0.4 0.1-0.8 0.2-0.4 0.5-0.8 0 0 0.1 0 0-0.8 0.6-1.3 0.5-0.5 1.3-0.5 0 0 0.7 0.1h0.2q0.1-0.2 0.4-0.3 0.4-0.1 0.7-0.1 0.4 0 0.8 0.1 0.3 0.2 0.5 0.5 0 0 0 0 0.1 0 0.1 0 0.6 0.1 1 0.4 0.4 0.3 0.6 0.8 0 0.2 0 0.5 0 0.2-0.1 0.4 0 0.1 0.1 0.2 0.2 0.3 0.4 0.6 0.2 0.3 0.2 0.7 0 0.1-0.3 0.8 0 0.1 0 0.2 0.1 0.1 0.1 0.6 0 0.8-0.7 1.4-0.7 0.6-1.6 0.6zm32.4 0.1q-1.3 0-2.2-1-0.9-0.9-0.9-2.2 0-0.4 0.1-0.9 0.2-0.4 0.4-0.8l-1.1-0.9q-0.4-0.3-0.1-0.8 0.2-0.5 0.7-0.5h3.1q1.3 0 2.2 1 0.9 0.9 0.9 2.2v0.7q0 1.3-0.9 2.2-0.9 1-2.2 1zm-38.6 8v-2.1q0-1.9 2-3.1 2-1.2 5.2-1.2 0.6 0 1.2 0.1 0.6 0 1.1 0.1-0.4 0.8-0.6 1.6-0.3 0.9-0.3 1.9v2.7zm12 0v-2.7q0-2.8 3.1-4.5 3-1.8 7.9-1.8 4.9 0 7.9 1.8 3 1.7 3 4.5v2.7zm26.7-6.4q3.2 0 5.2 1.2 2 1.2 2 3.1v2.1h-8.7v-2.7q0-1-0.2-1.8-0.2-0.9-0.6-1.7 0.6-0.1 1.1-0.1 0.6-0.1 1.2-0.1z'
                    : 'm20.6 24.9q-1 0-1.5-0.7-0.6-0.7-0.4-1.5l0.6-3.6q0.2-1.8 1.6-2.9 1.3-1.2 3.1-1.2 1.8 0 3.1 1.2 1.4 1.1 1.7 2.9l0.6 3.6q0.2 0.8-0.4 1.5-0.6 0.7-1.5 0.7zm0.5-2.4h5.8l-0.5-3q-0.1-0.9-0.8-1.5-0.7-0.6-1.6-0.6-0.9 0-1.6 0.6-0.7 0.6-0.8 1.5zm-13.8 4.8q-0.9 0.1-1.6-0.3-0.7-0.4-0.9-1.2-0.1-0.4 0-0.8 0.1-0.3 0.2-0.6 0-0.1 0-0.2-0.1-0.1-0.4-0.9-0.1-0.5 0.1-0.9 0.2-0.4 0.5-0.7 0 0 0.1-0.1 0-0.8 0.6-1.3 0.5-0.5 1.3-0.5 0.1 0 0.8 0.2l0.1-0.1q0.2-0.1 0.5-0.3 0.3-0.1 0.6-0.1 0.4 0 0.8 0.2 0.3 0.1 0.5 0.4 0 0 0.1 0 0 0 0 0 0.6 0.1 1 0.4 0.4 0.3 0.6 0.8 0.1 0.3 0 0.5 0 0.2-0.1 0.5 0 0 0.1 0.1 0.3 0.3 0.4 0.6 0.2 0.4 0.2 0.7 0 0.1-0.2 0.8-0.1 0.1 0 0.2 0 0.1 0 0.6 0 0.8-0.7 1.4-0.7 0.6-1.6 0.6zm-2.3-2.9q0 0 0 0 0 0 0 0zm34.7 3q-1.3 0-2.2-1-0.9-0.9-0.9-2.2 0-0.4 0.2-0.8 0.1-0.5 0.3-0.8l-1.1-1q-0.4-0.3-0.1-0.8 0.2-0.4 0.7-0.4h3.1q1.3 0 2.2 0.9 0.9 0.9 0.9 2.2v0.8q0 1.2-0.9 2.2-0.9 0.9-2.2 0.9zm-38.6 8v-2.1q0-1.9 2-3.1 2-1.2 5.2-1.2 0.6 0 1.2 0.1 0.6 0 1.1 0.1-0.4 0.8-0.6 1.7-0.2 0.8-0.2 1.8v2.7zm12 0v-2.6q0-2.9 3-4.6 3-1.7 7.9-1.7 4.9 0 7.9 1.7 3 1.7 3 4.6v2.6zm26.7-6.4q3.3 0 5.2 1.2 2 1.2 2 3.1v2.1h-8.7v-2.7q0-1-0.2-1.8-0.2-0.9-0.5-1.7 0.5-0.1 1-0.1 0.6-0.1 1.2-0.1zm-15.7-0.1q-3.7 0-6.1 1-2.4 1.1-2.5 2.8v0.3h17.1v-0.3q0-1.7-2.4-2.8-2.4-1-6.1-1z'
            }`}
        /></svg
    >
{:else}
    <img
        width="36px"
        height="36px"
        src={$communityData?.icon}
        draggable={false}
        alt={`${$ourData?.username}'s community'`}
    />
{/if}

<style>
    img {
        border: 2px solid var(--profile_info_color);
        border-radius: 10px;
        margin: 0;
        padding: 0;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
    }

    svg {
        width: 36px;
        height: 36px;
    }

    @media screen and (max-width: 700px) {
        img {
            cursor: default;
        }
    }
</style>
