<script lang="ts">
    import { socket } from 'stores/all';
    import { userData } from 'stores/profile';
    import { setProgressBar } from 'utilities/main';

    function toggleDisable(): void {
        setProgressBar(true);

        socket.emit(
            'toggleDisableAccount',
            { profileId: $userData.profileId },
            ({ err }) => {
                if (!err) {
                    $userData.isDisabled = !$userData.isDisabled;
                }

                setProgressBar(false);
            }
        );
    }
</script>

<svg
    version="1.2"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 48 48"
    width="48"
    height="48"
    on:click={toggleDisable}
    ><path
        class="svg"
        d={!$userData.isDisabled
            ? 'm29 22.75-9.05-9.1q.75-.5 1.8-.875t2.3-.375q2.65 0 4.475 1.825 1.825 1.825 1.825 4.525 0 1.15-.375 2.35-.375 1.2-.975 1.65ZM11.8 35.4q3.05-1.9 5.85-2.95 2.8-1.05 6.35-1.05 2.35 0 4.4.475 2.05.475 3.3 1.075l-7.85-7.9q-2.75-.05-4.375-1.675T17.8 19.15l-6.35-6.25q-1.9 2.2-3 4.95T7.35 24q0 3.2 1.075 6t3.375 5.4Zm24.9-.4q1.8-2.1 2.875-4.85Q40.65 27.4 40.65 24q0-7.3-4.675-11.975T24 7.35q-3.45 0-6.175 1.075Q15.1 9.5 13 11.3ZM24 42.85q-3.95 0-7.4-1.45t-6-4q-2.55-2.55-4-6-1.45-3.45-1.45-7.4t1.45-7.4q1.45-3.45 4-6t6-4q3.45-1.45 7.4-1.45t7.4 1.45q3.45 1.45 6 4t4 6q1.45 3.45 1.45 7.4t-1.45 7.4q-1.45 3.45-4 6t-6 4q-3.45 1.45-7.4 1.45Z'
            : 'M11.7 35.3q3-1.9 5.9-2.9 2.9-1 6.4-1 3.5 0 6.4 1 2.9 1 5.95 2.9 2.2-2.5 3.25-5.3 1.05-2.8 1.05-6 0-7.05-4.8-11.85T24 7.35q-7.05 0-11.85 4.8T7.35 24q0 3.2 1.075 6t3.275 5.3ZM24 25.1q-2.7 0-4.525-1.825-1.825-1.825-1.825-4.525t1.825-4.525Q21.3 12.4 24 12.4t4.525 1.825q1.825 1.825 1.825 4.525t-1.825 4.525Q26.7 25.1 24 25.1Zm0 17.75q-3.9 0-7.375-1.5t-6-4.05q-2.525-2.55-4-5.975T5.15 24q0-3.95 1.5-7.375t4.05-5.975q2.55-2.55 5.975-4.025Q20.1 5.15 24 5.15q3.95 0 7.375 1.475t5.975 4.025q2.55 2.55 4.025 6Q42.85 20.1 42.85 24q0 3.9-1.475 7.325Q39.9 34.75 37.35 37.3q-2.55 2.55-6 4.05T24 42.85Z'}
    /></svg
>
